<div class="container">
  <app-filter/>
  <div
    class="search-bar-container"
    cdkOverlayOrigin
    #overlayPosition="cdkOverlayOrigin"
    [ngClass]="{ 'opened mat-elevation-z2': overlayOpen | async }"
  >
    <button mat-icon-button>
      <mat-icon>search</mat-icon>
    </button>
    <input #searchInput
           [value]="searchTerm | async"
           placeholder="Search Anything You Want..."
           (click)="openOverlay()"
           (keydown.enter)="search(searchInput.value)"
    />
  </div>

  <ng-template
    cdkConnectedOverlay
    [cdkConnectedOverlayOrigin]="overlayPosition"
    [cdkConnectedOverlayOpen]="overlayOpen | async"
    (overlayOutsideClick)="closeOverlay()"
  >
    <app-search-overlay />
  </ng-template>
</div>
