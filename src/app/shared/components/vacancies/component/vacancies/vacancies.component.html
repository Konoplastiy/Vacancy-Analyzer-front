<div class="container">

  <div class="search-bar-container">
    <div
      class="search-bar"
      cdkOverlayOrigin
      #overlayPosition="cdkOverlayOrigin"
      [ngClass]="{ 'opened mat-elevation-z2': overlayOpen | async}"
    >
      <button mat-icon-button>
        <mat-icon>search</mat-icon>
      </button>
      <input #searchInput
             [value]="searchTerm | async"
             placeholder="Search Anything You Want..."
             (click)="openOverlay()"
             (keydown.enter)="search(searchInput.value)"
      />
    </div>

    <ng-template
      cdkConnectedOverlay
      [cdkConnectedOverlayOrigin]="overlayPosition"
      [cdkConnectedOverlayOpen]="overlayOpen | async"
      (overlayOutsideClick)="closeOverlay()"
    >
      <app-search-overlay/>
    </ng-template>
  </div>

  <div class="list-vacancies" *ngIf="!isEmpty">
    <div class="vacancies-container"
         *ngFor="let vacancy of vacancies | paginate: { itemsPerPage: 5, currentPage: currentPage }">
      <a class="vacancy_url" [href]="vacancy.urlVacancy" target="_blank">
        <div class="corner-text">Djinni</div>
        <h1 class="title">{{ vacancy.vacancyName }}</h1>
        <p class="description">{{ vacancy.shortDescription }}</p>
        <div class="info-block">
          <div class="company icon">{{ vacancy.companyName }}</div>
          <div class="location icon">{{ vacancy.cityName }}</div>
          <div class="date icon">{{ vacancy.date }}</div>
        </div>
      </a>
    </div>
    <pagination-controls (pageChange)="currentPage = ($event)" class="pagination-container"></pagination-controls>
  </div>
</div>
